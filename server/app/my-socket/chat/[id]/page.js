(()=>{var e={};e.id=55,e.ids=[55],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8893:e=>{"use strict";e.exports=require("buffer")},1282:e=>{"use strict";e.exports=require("child_process")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},4175:e=>{"use strict";e.exports=require("tty")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},8838:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>d,pages:()=>m,routeModule:()=>u,tree:()=>c});var i=s(9442),r=s(42),a=s(8190),o=s.n(a),n=s(3289),l={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(t,l);let c=["",{children:["my-socket",{children:["chat",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6379)),"C:\\Users\\user\\Documents\\work\\next_js\\my-app\\app\\my-socket\\chat\\[id]\\page.jsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4644)),"C:\\Users\\user\\Documents\\work\\next_js\\my-app\\app\\my-socket\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,9878)),"C:\\Users\\user\\Documents\\work\\next_js\\my-app\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,6042,23)),"next/dist/client/components/not-found-error"]}],m=["C:\\Users\\user\\Documents\\work\\next_js\\my-app\\app\\my-socket\\chat\\[id]\\page.jsx"],d={require:s,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/my-socket/chat/[id]/page",pathname:"/my-socket/chat/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2950:(e,t,s)=>{Promise.resolve().then(s.bind(s,6379))},1425:(e,t,s)=>{Promise.resolve().then(s.bind(s,114))},114:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var i=s(6493),r=s(3606),a=s(2745),o=s(6604),n=s(4619);let l=function(e){(0,n.useRouter)(),(0,n.usePathname)();let[t,s]=(0,r.useState)(!1)};var c=s(472);let m=JSON.parse('[{"emoji":"\uD83D\uDE00","name":"Grinning Face"},{"emoji":"\uD83D\uDE02","name":"Face with Tears of Joy"},{"emoji":"❤️","name":"Red Heart"},{"emoji":"\uD83D\uDE0D","name":"Smiling Face with Heart-Eyes"},{"emoji":"\uD83D\uDE0A","name":"Smiling Face with Smiling Eyes"},{"emoji":"\uD83D\uDE2D","name":"Loudly Crying Face"},{"emoji":"\uD83D\uDC4D","name":"Thumbs Up"},{"emoji":"\uD83D\uDD25","name":"Fire"},{"emoji":"\uD83E\uDD70","name":"Smiling Face with Hearts"},{"emoji":"\uD83D\uDE0E","name":"Smiling Face with Sunglasses"},{"emoji":"\uD83C\uDF89","name":"Party Popper"},{"emoji":"✨","name":"Sparkles"},{"emoji":"\uD83D\uDE01","name":"Beaming Face with Smiling Eyes"},{"emoji":"\uD83D\uDE22","name":"Crying Face"},{"emoji":"\uD83E\uDD23","name":"Rolling on the Floor Laughing"},{"emoji":"\uD83D\uDE4F","name":"Folded Hands"},{"emoji":"\uD83E\uDD7A","name":"Pleading Face"},{"emoji":"\uD83D\uDE05","name":"Grinning Face with Sweat"},{"emoji":"\uD83E\uDD14","name":"Thinking Face"},{"emoji":"\uD83D\uDE4C","name":"Raising Hands"},{"emoji":"\uD83D\uDC94","name":"Broken Heart"},{"emoji":"\uD83D\uDE18","name":"Face Blowing a Kiss"},{"emoji":"\uD83D\uDE04","name":"Grinning Face with Smiling Eyes"},{"emoji":"\uD83D\uDE1C","name":"Winking Face with Tongue"},{"emoji":"\uD83E\uDEF6","name":"Heart Hands"},{"emoji":"\uD83E\uDD29","name":"Star-Struck"},{"emoji":"\uD83E\uDD17","name":"Hugging Face"},{"emoji":"\uD83D\uDE0B","name":"Face Savoring Food"},{"emoji":"\uD83E\uDD2D","name":"Face with Hand Over Mouth"},{"emoji":"\uD83D\uDE21","name":"Pouting Face"}]');var d=s(4971),u=s(5723);let p=function({animgo:e}){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("svg",{"data-animgo":e,className:"anim_svg_double_check",fill:"none",height:"18",viewBox:"0 0 24 24",width:"18",xmlns:"http://www.w3.org/2000/svg",children:[(0,i.jsx)("path",{d:"M2 12L7.25 17C7.25 17 8.66939 15.3778 9.875 14",stroke:"#212529bf",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"11",strokeDashoffset:"11"}),(0,i.jsx)("path",{d:"M8 12L13.25 17L22 7",stroke:"#212529bf",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"21",strokeDashoffset:"0",children:(0,i.jsx)("animate",{attributeName:"stroke-dashoffset",from:"21",to:"0",dur:"1s",fill:"freeze"})}),(0,i.jsx)("path",{d:"M16 7L12.5 11",stroke:"#212529bf",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",strokeDasharray:"5",strokeDashoffset:"5"})]})})},h={src:"/_next/static/media/no-image-available.8dd0cd6b.webp",height:400,width:400,blurDataURL:"data:image/webp;base64,UklGRjAAAABXRUJQVlA4ICQAAAAwAQCdASoIAAgAAkA4JaQAA3AA/vsBDPZ2L8ZFq4tVklYAAAA=",blurWidth:8,blurHeight:8},g={src:"/_next/static/media/no-image-available.bc4d8958.jpg",height:400,width:400,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAACxg//EABkQAAEFAAAAAAAAAAAAAAAAAAEAAxIjMf/aAAgBAQABPwC0OnIL/8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAgEBPwB//8QAFBEBAAAAAAAAAAAAAAAAAAAAAP/aAAgBAwEBPwB//9k=",blurWidth:8,blurHeight:8},A=e=>{let t=e.match(/https?:\/\/(?:www\.)?(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/);if(t)return{type:"youtube",url:`https://www.youtube.com/embed/${t[1]}`};let s=e.match(/(https?:\/\/.*\.(?:png|jpg|jpeg|gif|webp|svg|icon))/i);if(s)return{type:"image",url:s[1]};let i=e.match(/(https?:\/\/.*\.mp4)/i);if(i)return{type:"mp4",url:i[1]};let r=e.match(/https?:\/\/[a-zA-Z0-9\-\.]+\.[a-zA-Z]{2,3}(?:\/\S*)?/);return r?{type:"link",url:r[0]}:null},x=e=>{let t=/(https?:\/\/[^\s]+)/g;return e.split(t).map((e,s)=>e.match(t)?(0,i.jsx)(u.default,{href:e,passHref:!0,target:"_blank",children:e},s):e)},j=({media:e,seo:t})=>"youtube"===e.type?(0,i.jsx)("div",{className:"col-md-4 bg-primary",children:(0,i.jsx)("iframe",{className:"video-frame",width:"100%",height:"100%",src:e.url,title:t.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):"image"===e.type?(0,i.jsx)("div",{className:"col-md-12 bg-primary-subtle",children:(0,i.jsx)(d.default,{className:"img-fluid rounded-start position-relative br-0",src:e.url,alt:t.title,layout:"fill",objectFit:"contain",unoptimized:!0,style:{maxHeight:300}})}):"mp4"===e.type?(0,i.jsx)("div",{className:"col-md-12 bg-primary",children:(0,i.jsxs)("video",{className:"img-fluid rounded-start position-relative br-0",width:"100%",height:"100%",style:{maxHeight:200},controls:!0,children:[(0,i.jsx)("source",{src:e.url,type:"video/mp4"}),"Your browser does not support video."]})}):(0,i.jsx)("div",{className:"col-md-4 bg-primary-subtle",children:t.image?(0,i.jsx)(d.default,{className:"img-fluid rounded-start position-relative br-0",src:t.image,alt:t.title,layout:"fill",objectFit:"cover",unoptimized:!0,style:{maxHeight:300}}):(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:h,type:"image/webp"}),(0,i.jsx)("source",{srcSet:g,type:"image/jpg"}),(0,i.jsx)(d.default,{className:"img-fluid rounded-start position-relative br-0",src:h,alt:"no image available",layout:"fill",objectFit:"cover",unoptimized:!0})]})}),f=({seo:e})=>(0,i.jsx)("div",{className:`bg-primary-subtle ${e.title||e.description?"col-md-8":"col-md-12"}`,children:(0,i.jsxs)("div",{className:`card-body ${e.title||e.description?"ps-0 pt-0 pe-0":"p-0 m-0"}`,children:[(0,i.jsx)("div",{className:`card-title bg-primary py-2 px-3 ${e.title||e.description?"border-3 border-bottom border-light":"m-0"}`,children:e.link&&(0,i.jsx)(u.default,{href:e.link,className:"text-light fs-6",target:"_blank",children:e.site_name})}),e.title||e.description?(0,i.jsxs)("div",{className:"ps-3 pe-3",children:[e.title&&(0,i.jsx)("h5",{className:"card-text fs-7",children:e.title}),e.description&&(0,i.jsx)("p",{className:"card-text fs-8",children:e.description})]}):null]})}),b=function({messages:e,participants:t}){let[s,a]=(0,r.useState)([]);(0,r.useRef)(0);let o=(0,r.useMemo)(()=>e.map(e=>{let t=A(e.msg);return{...e,media:t,parsedMessage:x(e.msg)}}),[e]);return(0,i.jsx)(i.Fragment,{children:o.map((e,r)=>(0,i.jsxs)("li",{className:"mb-1 g_ww_bw noticed","data-index":r,"data-noticed":s[r]?"true":"false",children:[(0,i.jsxs)("div",{style:{fontSize:"12px"},className:"m-0 text-black text-muted d-flex justify-content-between anim_opasity_show",children:[(0,i.jsx)("span",{className:"me-2 status_marker",status:void 0===t[e.socketId]?"none":t[e.socketId].status,children:e.who}),(0,i.jsx)("span",{className:"d-flex align-items-center",children:(0,i.jsx)("time",{className:"ms-2",dateTime:e.time,children:new Date(e.time).toLocaleTimeString()})})]}),(0,i.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,i.jsx)("p",{className:"m-0 ms-2 pe-5 text-black anim_opasity_show",children:e.parsedMessage}),(0,i.jsx)("span",{className:"d-flex align-items-end",children:(0,i.jsx)(p,{animgo:void 0!==s[r]?"true":"false"})})]}),e.seo&&(0,i.jsx)("div",{className:"card mt-2 mb-3 border-primary overflow-hidden anim_opasity_show",children:(0,i.jsxs)("div",{className:"row g-0",children:[e.media?(0,i.jsx)(j,{media:e.media,seo:e.seo}):(0,i.jsx)("div",{className:"col-md-4 bg-primary",children:e.seo.image?(0,i.jsx)(d.default,{className:"img-fluid rounded-start position-relative br-0",src:e.seo.image,alt:e.seo.title,layout:"fill",objectFit:"cover",unoptimized:!0}):(0,i.jsxs)("picture",{children:[(0,i.jsx)("source",{srcSet:h,type:"image/webp"}),(0,i.jsx)("source",{srcSet:g,type:"image/jpg"}),(0,i.jsx)(d.default,{className:"img-fluid rounded-start position-relative br-0",src:h,alt:"no image available",layout:"fill",objectFit:"cover",unoptimized:!0})]})}),(0,i.jsx)(f,{seo:e.seo})]})})]},r))})};function y({params:e}){let t=(0,r.useRef)(null),[s,n]=(0,r.useState)(m),{id:d}=(0,r.use)(e),[u,p]=(0,r.useState)(()=>null);l(e=>{console.log(e),"leaveRoom"===e?(console.log("User left the page"),a.socket.emit("leaveRoom",{roomId:d,login:u,status:"leaveRoom"}),a.socket.disconnect(!0)):"afk"===e?(a.socket.emit("afk_user_chat",{roomId:d,login:u,status:"afk"}),v(!1)):"back"===e&&a.socket.emit("user_back_chat",{roomId:d,login:u,status:"online"})});let[h,g]=(0,r.useState)({}),[A,x]=(0,r.useState)(""),[j,f]=(0,r.useState)([]),y=(0,r.useRef)(null),[w,v]=(0,r.useState)(!0),k=e=>{let t=e.target.value.trimStart();x(t),1===t.length?a.socket.emit("typing_user_chat",{roomId:d,login:u,status:"typing"}):(0===t.length||""==t)&&a.socket.emit("typing_user_chat",{roomId:d,login:u,status:"online"})},[_,N]=(0,r.useState)(!1);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{pic_url_pc_web:"./../../gif/working.gif",pic_url_pc_other:"./../../gif/working.gif",pic_url_mob_web:"./../../gif/mob_working.gif",pic_url_mob_other:"./../../gif/mob_working.gif",pic_url:"/../../gif/working.gif",alt:"this worging gif",head:`Yor id chating: ${d}`,styles_container:{maxWidth:700,width:"100%"},after_head:(0,i.jsx)(c.Z,{header:"Do you want to change your name?",placeholder:"Your name...",ls:!0,ls_name:"io_name",handles:e=>{u!==e&&(a.socket.emit("new_login",{roomId:d,login:e}),p(e))}}),children:(0,i.jsx)("div",{className:"container-lg d-flex justify-content-center align-items-center px-0",children:(0,i.jsx)("div",{style:{maxWidth:700,width:"100%"},children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"mb-3",children:(0,i.jsxs)("ul",{style:{fontSize:"12px"},className:"d-inline-flex align-items-center flex-wrap m-0 p-0",children:[(0,i.jsx)("li",{style:{listStyle:"none"},className:"fs-6",children:(0,i.jsx)("span",{className:"d-flex align-items-center",children:"Participants:"})}),Object.keys(h).map((e,t)=>(0,i.jsx)("li",{className:"ms-3 status_marker text-secondary anim_opasity_show",status:h[e].status,children:(0,i.jsx)("span",{children:h[e].who})},t+e))]})}),(0,i.jsx)("div",{className:"bg-light mb-3 border border-secondary border-2 rounded",ref:y,onMouseOver:e=>v(!1),onMouseOut:e=>v(!0),style:{height:400,overflowY:"auto"},children:(0,i.jsx)("ul",{className:"p-3",children:(0,i.jsx)(b,{messages:j,participants:h,chatListReff:y})})}),(0,i.jsx)("div",{className:"bg-light mb-3 border border-secondary border-2 rounded d-flex",style:{height:"auto",overflowY:"hidden",overflowX:"auto"},children:s.map((e,s)=>(0,i.jsx)("button",{className:"btn_none m-1 scaleHover",onClick:()=>(x(A+e.emoji),t.current.focus()),children:e.emoji},s))}),(0,i.jsx)("form",{onSubmit:e=>{e.preventDefault(),""!==A&&(a.socket.emit("message",{msg:A,roomId:d,login:u}),x(""),a.socket.emit("typing_user_chat",{roomId:d,login:u,status:"online"}))},children:(0,i.jsxs)("div",{className:"input-group mb-3",children:[(0,i.jsx)("input",{ref:t,type:"text",value:A,onChange:e=>k(e),className:"form-control",placeholder:"Enter chat name","aria-label":"Enter chat name"}),(0,i.jsx)("button",{className:"btn btn-outline-light",type:"submit",children:"Enter"})]})})]})})})})})}},6379:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});let i=(0,s(8105).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\user\\\\Documents\\\\work\\\\next_js\\\\my-app\\\\app\\\\my-socket\\\\chat\\\\[id]\\\\page.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\user\\Documents\\work\\next_js\\my-app\\app\\my-socket\\chat\\[id]\\page.jsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[998,650,162],()=>s(8838));module.exports=i})();